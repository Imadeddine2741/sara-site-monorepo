<div class="auth-page">
  <div class="auth-card">
    <h1 class="auth-title">Nouveau mot de passe</h1>
    <p class="auth-subtitle">Entrez votre nouveau mot de passe.</p>

    <form class="auth-form" [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="!success && token">
      <div class="auth-field">
        <label class="auth-label">Nouveau mot de passe</label>
        <input class="auth-input" type="password" formControlName="newPassword" placeholder="Minimum 6 caractères">
      </div>

      <div class="auth-field">
        <label class="auth-label">Confirmer le mot de passe</label>
        <input class="auth-input" type="password" formControlName="confirmPassword">
      </div>

      <button class="auth-button" type="submit" [disabled]="loading || form.invalid">
        {{ loading ? 'Réinitialisation...' : 'Réinitialiser' }}
      </button>

      <p class="auth-error" *ngIf="error">{{ error }}</p>
    </form>

    <div class="auth-success-box" *ngIf="success">
      <p class="auth-success">{{ message }}</p>
      <a routerLink="/login" class="auth-button-link">Se connecter</a>
    </div>

    <div class="auth-error-box" *ngIf="!token">
      <p class="auth-error">{{ error }}</p>
      <a routerLink="/forgot-password" class="auth-link">Demander un nouveau lien</a>
    </div>
  </div>
</div>